# ğŸš€ Proxy Server Setup Skill

> ä¾› AI ç¼–ç¨‹ Agentï¼ˆ[OpenCode](https://github.com/opencode-ai/opencode)ã€[Claude Code](https://docs.anthropic.com/en/docs/claude-code) ç­‰ï¼‰ä½¿ç”¨çš„ **Skill æ–‡ä»¶**ï¼Œè®© Agent èƒ½å¤Ÿåœ¨ Linux æœåŠ¡å™¨ä¸Šè‡ªåŠ¨éƒ¨ç½² [mihomo (Clash.Meta)](https://github.com/MetaCubeX/mihomo) ä»£ç†æœåŠ¡ã€‚

## ä»€ä¹ˆæ˜¯ Skillï¼Ÿ

Skill æ˜¯ä¸€ç§ç»“æ„åŒ–çš„æŒ‡ä»¤æ–‡æ¡£ï¼ŒAI ç¼–ç¨‹ Agent é€šè¿‡è¯»å– Skill æ¥äº†è§£**å¦‚ä½•å®Œæˆä¸€é¡¹ç‰¹å®šä»»åŠ¡**ã€‚å®ƒåŒ…å«ï¼š

- **Input Parameters** â€” Agent éœ€è¦ä»ç”¨æˆ·è·å–çš„å‚æ•°ï¼ˆå¦‚è®¢é˜…é“¾æ¥ã€ç«¯å£å·ï¼‰
- **Installation Script** â€” Agent éœ€è¦åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„æ­¥éª¤å’Œè„šæœ¬
- **Testing Script** â€” éƒ¨ç½²åçš„è‡ªåŠ¨åŒ–éªŒè¯è„šæœ¬
- **Output** â€” Agent åº”è¿”å›ç»™ç”¨æˆ·çš„ç»“æœç»“æ„
- **Error Handling** â€” Agent é‡åˆ°é”™è¯¯æ—¶çš„å¤„ç†ç­–ç•¥

Agent è¯»å– Skill åï¼Œä¼šæ ¹æ®ç”¨æˆ·çš„å®é™…è¾“å…¥å‚æ•°ï¼Œè‡ªåŠ¨æ‰§è¡Œéƒ¨ç½²ã€æµ‹è¯•å¹¶è¿”å›ç»“æœï¼Œ**æ— éœ€ç”¨æˆ·æ‰‹åŠ¨æ“ä½œ**ã€‚

## ğŸ“‹ Skill æ¦‚è§ˆ

| å±æ€§ | å€¼ |
|------|------|
| **åç§°** | `proxy-server-setup` |
| **ç”¨é€”** | åœ¨ Linux æœåŠ¡å™¨ä¸Šéƒ¨ç½² mihomo ä»£ç† |
| **æ”¯æŒ Agent** | OpenCode / Claude Code / å…¶ä»–æ”¯æŒ Skills çš„ Agent |
| **ç›®æ ‡ç³»ç»Ÿ** | Ubuntu 20.04+ / Debian 10+ / CentOS 7+ |

### åŠŸèƒ½è¦†ç›–

- è‡ªåŠ¨ä¸‹è½½å®‰è£… mihomoï¼ˆè‡ªåŠ¨æ£€æµ‹ x86_64 / arm64ï¼‰
- å¤š WebUI æ”¯æŒï¼ˆYacd / Clara / MetaUIï¼‰
- Clash è®¢é˜…æ‹‰å–ä¸é…ç½®ç”Ÿæˆ
- TUN æ¨¡å¼ / DNS åˆ†æµè§„åˆ™
- Systemd æœåŠ¡é…ç½®ï¼ˆå¼€æœºè‡ªå¯ + æ•…éšœé‡å¯ï¼‰
- é˜²ç«å¢™è‡ªåŠ¨é…ç½®ï¼ˆufw / firewalldï¼‰
- éƒ¨ç½²å SOCKS5 / HTTP / API / èŠ‚ç‚¹è‡ªåŠ¨æµ‹è¯•
- GeoIP / GeoSite è§„åˆ™åº“ä¸‹è½½
- æ—¥å¿—è½®è½¬é…ç½®

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### æ–¹å¼ä¸€ï¼šç›´æ¥ç»™ Agent ä»“åº“é“¾æ¥ï¼ˆæœ€ç®€å•ï¼‰

æ— éœ€ä¸‹è½½ä»»ä½•æ–‡ä»¶ï¼Œç›´æ¥æŠŠä»“åº“é“¾æ¥ä¸¢ç»™ Agentï¼Œè®©å®ƒè‡ªå·±è¯»å–å­¦ä¹ ï¼š

```
è¯·é˜…è¯»è¿™ä¸ª Skill å¹¶å¸®æˆ‘éƒ¨ç½²ä»£ç†ï¼šhttps://github.com/ZhaoYangGG/proxy-server-setup
è®¢é˜…é“¾æ¥æ˜¯ https://example.com/api/v1/client/subscribe?token=xxx
```

Agent ä¼šè‡ªåŠ¨è®¿é—®ä»“åº“ã€è¯»å– `proxy-server-setup.md`ã€ç†è§£éƒ¨ç½²æµç¨‹ï¼Œç„¶ååœ¨ä½ çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚

### æ–¹å¼äºŒï¼šå°† Skill æ–‡ä»¶æ”¾å…¥ Agent å·¥ä½œç›®å½•

å¦‚æœä½ éœ€è¦ç¦»çº¿ä½¿ç”¨æˆ–è‡ªå®šä¹‰ Skill å†…å®¹ï¼š

**OpenCode**ï¼šå°† `proxy-server-setup.md` æ”¾å…¥é¡¹ç›®çš„ Skills ç›®å½•ï¼ˆå‚è€ƒ OpenCode æ–‡æ¡£é…ç½® Skills è·¯å¾„ï¼‰ã€‚

**Claude Code**ï¼šå°†æ–‡ä»¶æ”¾å…¥ Agent å¯è¯»å–çš„å·¥ä½œç›®å½•ä¸­ã€‚

**å…¶ä»– Agent**ï¼šä»»ä½•æ”¯æŒè¯»å– Markdown ç»“æ„åŒ–æŒ‡ä»¤çš„ Agent å‡å¯ä½¿ç”¨ã€‚

### ç»™ Agent ä¸‹è¾¾ä»»åŠ¡

åªéœ€ç”¨è‡ªç„¶è¯­è¨€å‘Šè¯‰ Agent ä½ è¦åšä»€ä¹ˆï¼ŒAgent ä¼šè‡ªåŠ¨è¯»å– Skill å¹¶æ‰§è¡Œï¼š

```
å¸®æˆ‘åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä»£ç†ï¼Œè®¢é˜…é“¾æ¥æ˜¯ https://example.com/api/v1/client/subscribe?token=xxx
```

Agent ä¼šè‡ªåŠ¨ï¼š
1. è¯»å– Skill ä¸­çš„ Input Parametersï¼Œæå–ä½ æä¾›çš„ `subscription_url`
2. æŒ‰ Installation Script çš„æ­¥éª¤ä¾æ¬¡æ‰§è¡Œï¼ˆå‰ç½®æ£€æŸ¥ â†’ å®‰è£… â†’ é…ç½® â†’ å¯åŠ¨ï¼‰
3. è¿è¡Œ Testing Script éªŒè¯éƒ¨ç½²ç»“æœ
4. æŒ‰ Output æ ¼å¼è¿”å›éƒ¨ç½²çŠ¶æ€å’Œè®¿é—®åœ°å€

### 3. å¯é€‰å‚æ•°

ä½ ä¹Ÿå¯ä»¥æŒ‡å®šæ›´å¤šå‚æ•°ï¼ŒAgent ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶åº”ç”¨ï¼š

```
éƒ¨ç½²ä»£ç†ï¼Œè®¢é˜…é“¾æ¥ https://example.com/linkï¼Œç«¯å£æ”¹æˆ 8080ï¼ŒWebUI ç”¨ claraï¼Œå¼€å¯è®¤è¯ï¼Œå¯†ç  my_secret
```

å®Œæ•´å‚æ•°åˆ—è¡¨è§ [proxy-server-setup.md](proxy-server-setup.md#input-parameters)ã€‚

## ğŸ“ ä»“åº“ç»“æ„

```
â”œâ”€â”€ proxy-server-setup.md   # Skill æ–‡ä»¶ (Agent è¯»å–æ­¤æ–‡ä»¶)
â”œâ”€â”€ README.md               # æœ¬è¯´æ˜æ–‡æ¡£ (é¢å‘äººç±»)
â”œâ”€â”€ LICENSE                  # MIT è®¸å¯è¯
â””â”€â”€ .gitignore
```

## ğŸ“– Skill æ–‡ä»¶ç»“æ„è¯´æ˜

[proxy-server-setup.md](proxy-server-setup.md) å†…éƒ¨ç»“æ„ï¼š

| ç« èŠ‚ | è¯´æ˜ |
|------|------|
| Skill Metadata | åç§°ã€ç‰ˆæœ¬ã€æ ‡ç­¾ç­‰å…ƒä¿¡æ¯ |
| Input Parameters | Agent éœ€æ”¶é›†çš„å‚æ•°å®šä¹‰ï¼ˆç±»å‹ã€é»˜è®¤å€¼ã€æ˜¯å¦å¿…éœ€ï¼‰ |
| Installation Script (Step 0-6) | åˆ†æ­¥éƒ¨ç½²è„šæœ¬ï¼Œå«å‰ç½®æ£€æŸ¥ã€å®‰è£…ã€é…ç½®ã€é˜²ç«å¢™ |
| Testing Script | éƒ¨ç½²åè‡ªåŠ¨éªŒè¯è„šæœ¬ |
| Usage Examples | Agent è°ƒç”¨ç¤ºä¾‹ |
| Output | Agent è¿”å›ç»“æœçš„ JSON ç»“æ„å®šä¹‰ |
| Error Handling | é”™è¯¯ç ä¸å¯¹åº”å¤„ç†æ–¹æ¡ˆ |
| Dependencies | ç›®æ ‡æœåŠ¡å™¨éœ€è¦çš„ä¾èµ– |
| File Locations | éƒ¨ç½²åçš„æ–‡ä»¶è·¯å¾„æ˜ å°„ |
| Maintenance Commands | æ—¥å¸¸è¿ç»´å‘½ä»¤å‚è€ƒ |
| Log Rotation | æ—¥å¿—è½®è½¬é…ç½® |

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **Skill ä¸æ˜¯ç›´æ¥æ‰§è¡Œçš„è„šæœ¬** â€” å®ƒæ˜¯ Agent çš„æŒ‡ä»¤æ–‡æ¡£ï¼Œç”± Agent è§£æååœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
2. **éœ€è¦ root æƒé™** â€” Agent éœ€è¦ä»¥ root èº«ä»½è¿æ¥ç›®æ ‡æœåŠ¡å™¨
3. **è®¢é˜…é“¾æ¥æ•æ„Ÿ** â€” ä¸è¦å°†çœŸå®è®¢é˜…é“¾æ¥æäº¤åˆ°å…¬å¼€ä»“åº“
4. **å®‰å…¨åŠ å›º** â€” Skill ä¸­åŒ…å«å®‰å…¨å»ºè®®ï¼ˆç»‘å®š 127.0.0.1ã€è®¾ç½® secretï¼‰ï¼ŒAgent ä¼šå‚è€ƒä½†è¯·è‡ªè¡Œç¡®è®¤

## ğŸ“„ License

[MIT](LICENSE)

## ğŸ¤ Contributing

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼å¦‚æœä½ æœ‰å…¶ä»–éƒ¨ç½²åœºæ™¯çš„ Skillï¼Œä¹Ÿæ¬¢è¿è´¡çŒ®ã€‚
